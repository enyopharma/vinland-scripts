#!/usr/bin/env perl
use strict;
use warnings;
use DBI;
use Data::Dumper;

my $vinland = DBI->connect(
    sprintf('DBI:Pg:database=%s;host=%s', 'vinland', $ENV{'DB_HOSTNAME'}),
    $ENV{'DB_USERNAME'},
    $ENV{'DB_PASSWORD'},
);

$vinland->do('
    INSERT INTO proteins_xrefs (protein_id, source, ref)
    SELECT id, \'accession\', accession FROM proteins
    WHERE type = \'h\'
');

$vinland->do('
    INSERT INTO proteins_xrefs (protein_id, source, ref)
    SELECT id, \'name\', name FROM proteins
    WHERE type = \'h\'
');
